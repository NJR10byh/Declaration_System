import{e as G,b as H,f as J,B as Q,h as b,r as D,L as W,O as X,j as i,o as Y,l as Z,m as e,w as l,x as n,p as r,v as V,t as C,F as ee,U as te,y as ae,z as le,_ as ue}from"./index.2c261d0b.js";import{t as S}from"./date.91880873.js";const oe={queryList:"/reports/queryList"},ie=[{title:"\u5E8F\u53F7",align:"center",colKey:"index",width:50},{title:"\u8BA2\u5355\u53F7",align:"center",colKey:"orderId",width:120,ellipsis:!0},{title:"\u5546\u54C1",align:"left",colKey:"commodity",width:160,ellipsis:!0},{title:"\u62A5\u5355\u4EBA",align:"center",colKey:"reporter",width:80,ellipsis:!0},{title:"\u5B9E\u4ED8\u91D1\u989D",align:"center",colKey:"payAmount",width:80,ellipsis:!0},{title:"\u9884\u8BA1\u8FD4\u6B3E\u91D1\u989D",align:"center",colKey:"expectPayback",width:120,ellipsis:!0},{title:"\u5B9E\u9645\u8FD4\u6B3E\u91D1\u989D",align:"center",colKey:"actualPayback",width:120,ellipsis:!0},{title:"\u7533\u8BF7\u8FD4\u6B3E\u65F6\u95F4",align:"center",colKey:"applyPaybackTime",width:150,ellipsis:!0},{title:"\u62A5\u5355\u65F6\u95F4",align:"center",colKey:"reportTime",width:150,ellipsis:!0},{title:"\u8BA2\u5355\u72B6\u6001",align:"center",colKey:"status",width:80,ellipsis:!0},{title:"\u4E0B\u5355\u56FE",align:"center",colKey:"orderPic",width:80},{title:"\u5B8C\u6210\u56FE",align:"center",colKey:"completePic",width:80},{title:"\u64CD\u4F5C",align:"left",colKey:"settings",fixed:"right",width:100}],ne=c=>{switch(c){case 0:return"\u5DF2\u62A5\u5355";case 1:return"\u5F85\u5BA1\u6838";case 2:return"\u5F85\u8FD4\u6B3E";case 3:return"\u5DF2\u8FD4\u6B3E";case 4:return"\u5DF2\u4F5C\u5E9F"}},se=c=>{switch(c){case"\u5DF2\u62A5\u5355":return"success";case"\u5F85\u5BA1\u6838":return"warning";case"\u5F85\u8FD4\u6B3E":return"warning";case"\u5DF2\u8FD4\u6B3E":return"success";case"\u5DF2\u4F5C\u5E9F":return"danger"}},re=c=>(ae("data-v-9c094866"),c=c(),le(),c),ce=re(()=>n("div",{class:"cardTitle"},"\u641C\u7D22\u6761\u4EF6",-1)),de={class:"tdesign-demo-image-viewer__base"},me={class:"tdesign-demo-image-viewer__ui-image"},pe=["src"],ge={class:"tdesign-demo-image-viewer__base"},_e={class:"tdesign-demo-image-viewer__ui-image"},fe=["src"],be={class:"settingBtns"},Fe=G({__name:"index",setup(c){const k=H();J();const I=Q(()=>k.isUseTabsRouter?48:0),v=()=>document.querySelector(`.${te}-layout`),u=b({tableLoading:!1,tableData:[],searchText:"",pagination:{total:0,current:1,pageSize:20}}),P=b([{label:"\u9009\u9879\u4E00",value:"1"},{label:"\u9009\u9879\u4E8C",value:"2"},{label:"\u9009\u9879\u4E09",value:"3"},{label:"option4",value:"4"},{label:"OPTION5",value:"5"}]),U=b([{label:"\u5168\u90E8",value:"0"},{label:"\u5BA1\u6838\u4E2D",value:"1"},{label:"\u5DF2\u5BA1\u6838",value:"2"}]),B=D(!1),h=D(!1),F=D(!1),s=b({commodity:"",status:"",orderId:"",payAmount:"",remark:""}),d=b({pageNo:1,pageItems:20,orderId:"",commodity:"",reporter:"",startTime:null,endTime:null,status:null});W(()=>{u.pagination.current=d.pageNo,u.pagination.pageSize=d.pageItems,E()});const L=o=>{console.log("\u5206\u9875\u53D8\u5316",o),d.pageNo=o.current,d.pageItems=o.pageSize,u.pagination.current=d.pageNo,u.pagination.pageSize=d.pageItems,E()},E=()=>{u.tableData=[],u.tableLoading=!0,X.post({url:oe.queryList,data:d}).then(o=>{console.log(o),u.pagination.total=o.totalRows,u.tableData=o.list,u.tableData.map((t,g)=>{t.index=(u.pagination.current-1)*u.pagination.pageSize+g+1,t.payAmount+=" \u5143",t.expectPayback+=" \u5143",t.actualPayback+=" \u5143",t.reportTime=S(t.reportTime),t.applyPaybackTime=S(t.applyPaybackTime),t.status=ne(t.status)})}).catch(o=>{}).finally(()=>{u.tableLoading=!1})},K=()=>{B.value=!0},z=()=>{h.value=!0},N=o=>{console.log(o),Object.assign(s,{commodity:o.commodity,status:o.status,orderId:o.orderId,payAmount:o.payAmount,remark:o.remark}),F.value=!0},O=()=>{F.value=!1,console.log(s)};return(o,t)=>{const g=i("t-row"),p=i("t-input"),w=i("t-select"),q=i("t-date-range-picker"),x=i("t-card"),m=i("t-icon"),_=i("t-button"),A=i("t-tag"),T=i("t-image-viewer"),R=i("t-table"),f=i("t-form-item"),j=i("t-textarea"),M=i("t-form"),$=i("t-dialog");return Y(),Z(ee,null,[e(x,{class:"all-declaration-card"},{default:l(()=>[e(g,{justify:"start",class:"cardTop"},{default:l(()=>[ce]),_:1}),e(g,{justify:"start",class:"cardTop"},{default:l(()=>[e(p,{class:"inputStyle",modelValue:u.searchText,"onUpdate:modelValue":t[0]||(t[0]=a=>u.searchText=a),placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",clearable:""},null,8,["modelValue"]),e(w,{class:"inputStyle",modelValue:u.searchText,"onUpdate:modelValue":t[1]||(t[1]=a=>u.searchText=a),placeholder:"-\u8BF7\u9009\u62E9\u5546\u54C1-",options:P,filterable:"",clearable:""},null,8,["modelValue","options"]),e(w,{class:"inputStyle",modelValue:u.searchText,"onUpdate:modelValue":t[2]||(t[2]=a=>u.searchText=a),placeholder:"-\u8BF7\u9009\u62E9\u8BA2\u5355\u72B6\u6001-",options:U,filterable:"",clearable:""},null,8,["modelValue","options"]),e(p,{class:"inputStyle",modelValue:u.searchText,"onUpdate:modelValue":t[3]||(t[3]=a=>u.searchText=a),placeholder:"\u8BF7\u8F93\u5165\u62A5\u5355\u4EBA",clearable:""},null,8,["modelValue"]),e(q,{class:"inputStyle rangeInputStyle",placeholder:["\u62A5\u5355\u65E5\u671F \u8D77","\u62A5\u5355\u65E5\u671F \u6B62"],clearable:""})]),_:1})]),_:1}),e(x,{class:"all-declaration-card"},{default:l(()=>[e(g,{justify:"space-between",class:"cardTop"},{default:l(()=>[n("div",null,[e(_,null,{icon:l(()=>[e(m,{name:"search"})]),default:l(()=>[r(" \u67E5\u8BE2 ")]),_:1})]),n("div",null,[e(_,{theme:"success"},{icon:l(()=>[e(m,{name:"file-excel"})]),default:l(()=>[r(" \u5BFC\u51FAExcel ")]),_:1}),e(_,{theme:"success"},{icon:l(()=>[e(m,{name:"file-image"})]),default:l(()=>[r(" \u5BFC\u51FA\u4E0B\u5355\u56FE ")]),_:1}),e(_,{theme:"success"},{icon:l(()=>[e(m,{name:"file-image"})]),default:l(()=>[r(" \u5BFC\u51FA\u5B8C\u6210\u56FE ")]),_:1})])]),_:1}),e(R,{class:"tableStyle",data:u.tableData,columns:V(ie),"row-key":"id",hover:"",stripe:"","table-content-width":"1600",pagination:u.pagination,loading:u.tableLoading,"header-affixed-top":{offsetTop:I.value,container:v},"horizontal-scroll-affixed-bottom":{offsetBottom:64,container:v},"pagination-affixed-bottom":{offsetBottom:0,container:v},onPageChange:L,size:"small",style:{"margin-top":"10px"}},{orderId:l(a=>[e(A,{theme:"primary",variant:"light-outline"},{default:l(()=>[r(C(a.row.orderId),1)]),_:2},1024)]),orderPic:l(a=>[n("div",de,[e(T,{visible:B.value,"onUpdate:visible":t[4]||(t[4]=y=>B.value=y),images:[a.row.orderPic]},{trigger:l(()=>[n("div",me,[n("img",{alt:"test",src:a.row.orderPic,class:"tdesign-demo-image-viewer__ui-image--img"},null,8,pe),n("div",{class:"tdesign-demo-image-viewer__ui-image--hover",onClick:K},[n("span",null,[e(m,{size:"1.2em",name:"browse"}),r(" \u9884\u89C8")])])])]),_:2},1032,["visible","images"])])]),completePic:l(a=>[n("div",ge,[e(T,{visible:h.value,"onUpdate:visible":t[5]||(t[5]=y=>h.value=y),images:[a.row.completePic]},{trigger:l(()=>[n("div",_e,[n("img",{alt:"test",src:a.row.completePic,class:"tdesign-demo-image-viewer__ui-image--img"},null,8,fe),n("div",{class:"tdesign-demo-image-viewer__ui-image--hover",onClick:z},[n("span",null,[e(m,{size:"1.2em",name:"browse"}),r(" \u9884\u89C8")])])])]),_:2},1032,["visible","images"])])]),status:l(a=>[e(A,{theme:V(se)(a.row.status),variant:"light-outline",shape:"round"},{default:l(()=>[r(C(a.row.status),1)]),_:2},1032,["theme"])]),settings:l(a=>[n("div",be,[e(_,{theme:"warning",onClick:y=>N(a.row)},{icon:l(()=>[e(m,{name:"edit"})]),default:l(()=>[r(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])])]),_:1},8,["data","columns","pagination","loading","header-affixed-top","horizontal-scroll-affixed-bottom","pagination-affixed-bottom"])]),_:1}),e($,{visible:F.value,"onUpdate:visible":t[11]||(t[11]=a=>F.value=a),header:"\u62A5\u5355\u7F16\u8F91",attach:"body","confirm-on-enter":!0,"on-confirm":O},{body:l(()=>[e(M,null,{default:l(()=>[e(f,{label:"\u5546\u54C1"},{default:l(()=>[e(p,{modelValue:s.commodity,"onUpdate:modelValue":t[6]||(t[6]=a=>s.commodity=a),readonly:"",disabled:""},null,8,["modelValue"])]),_:1}),e(f,{label:"\u72B6\u6001"},{default:l(()=>[e(p,{modelValue:s.status,"onUpdate:modelValue":t[7]||(t[7]=a=>s.status=a),readonly:"",disabled:""},null,8,["modelValue"])]),_:1}),e(f,{label:"\u8BA2\u5355\u53F7"},{default:l(()=>[e(p,{modelValue:s.orderId,"onUpdate:modelValue":t[8]||(t[8]=a=>s.orderId=a),placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7"},null,8,["modelValue"])]),_:1}),e(f,{label:"\u5B9E\u4ED8\u91D1\u989D"},{default:l(()=>[e(p,{modelValue:s.payAmount,"onUpdate:modelValue":t[9]||(t[9]=a=>s.payAmount=a),placeholder:"\u8BF7\u8F93\u5165\u5B9E\u4ED8\u91D1\u989D",suffix:"\u5143"},null,8,["modelValue"])]),_:1}),e(f,{label:"\u5907\u6CE8"},{default:l(()=>[e(j,{modelValue:s.remark,"onUpdate:modelValue":t[10]||(t[10]=a=>s.remark=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])],64)}}});const Be=ue(Fe,[["__scopeId","data-v-9c094866"]]);export{Be as default};
